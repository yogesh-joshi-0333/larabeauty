let u=()=>({});const f=r=>r===!0?"1":r===!1?"0":r.toString(),d=(r,o,s)=>{Object.entries(r).forEach(([e,n])=>{if(n===void 0)return;const t=`${o}[${e}]`;Array.isArray(n)?n.forEach(i=>s.append(`${t}[]`,f(i))):n!==null&&typeof n=="object"?d(n,t,s):["string","number","boolean"].includes(typeof n)&&s.set(t,f(n))})},y=r=>{if(!r||!r.query&&!r.mergeQuery)return"";const o=r.query??r.mergeQuery,s=r.mergeQuery!==void 0,e=new URLSearchParams(s&&typeof window<"u"?window.location.search:"");for(const t in o){const i=o[t];if(i==null){e.delete(t);continue}Array.isArray(i)?(e.has(`${t}[]`)&&e.delete(`${t}[]`),i.forEach(c=>{e.append(`${t}[]`,c.toString())})):typeof i=="object"?(e.forEach((c,a)=>{a.startsWith(`${t}[`)&&e.delete(a)}),d(i,t,e)):e.set(t,f(i))}const n=e.toString();return n.length>0?`?${n}`:""},l=r=>{const o={...r??{}},s=u();for(const e in s)o[e]===void 0&&s[e]!==void 0&&(o[e]=s[e]);return o};export{l as a,y as q};
