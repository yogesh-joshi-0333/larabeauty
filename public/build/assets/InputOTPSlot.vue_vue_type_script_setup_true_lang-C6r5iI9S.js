import{b as Y,u as he}from"./useForwardPropsEmits-C00OBSGp.js";import{c as J}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BRJhPBh6.js";import{d as $,bz as be,B as ae,C as oe,A as se,x as ye,s as Se,c as G,f as le,u as y,i as re,a as L,D as Q,m as N,O as we,ay as xe,F as Pe,bA as ne,b as I,bg as F,v as _e,z as ke,r as z,o as V,w as Be,n as Ce,p as Te,g as Ee,t as Ae}from"./app-CSNJZ8QW.js";import{c as Me,e as De,b as Re,d as A,r as q}from"./index-IR2fhzqm.js";const Fe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,Ie=$({props:{fallback:{type:String,required:!0}},setup(l){return()=>ke("noscript",{innerHTML:`<style>${l.fallback}</style>`})}}),ie=Symbol("vue-otp-context");function Ve(l){return[setTimeout(l,0),setTimeout(l,10),setTimeout(l,50)]}const We=18,ue=40,$e=`${ue}px`,Oe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function He({containerRef:l,inputRef:p,pushPasswordManagerStrategy:u,isFocused:n}){const i=z({done:!1,refocused:!1}),o=z(!1),h=z(!1),c=z(!1),x=I(()=>u==="none"?!1:(u==="increase-width"||u==="experimental-no-flickering")&&o.value&&h.value),b=()=>{const s=l.value,v=p.value;if(!s||!v||c.value||u==="none")return;const P=s,_=P.getBoundingClientRect().left+P.offsetWidth,S=P.getBoundingClientRect().top+P.offsetHeight/2,k=_-We,W=S;if(!(document.querySelectorAll(Oe).length===0&&document.elementFromPoint(k,W)===s)&&(o.value=!0,c.value=!0,!i.value.refocused&&document.activeElement===v)){const M=[v.selectionStart,v.selectionEnd];v.blur(),v.focus(),v.setSelectionRange(M[0],M[1]),i.value.refocused=!0}},d=()=>{const s=l.value;!s||u==="none"||(h.value=window.innerWidth-s.getBoundingClientRect().right>=ue)};let m;return ae(()=>{d(),m=setInterval(d,1e3)}),oe(()=>{clearInterval(m)}),se([n,p],(s,v,P)=>{const[_,S]=s,k=_||document.activeElement===S;if(u==="none"||!k)return;const W=setTimeout(b,0),M=setTimeout(b,2e3),K=setTimeout(b,5e3),U=setTimeout(()=>{c.value=!0},6e3);P(()=>{clearTimeout(W),clearTimeout(M),clearTimeout(K),clearTimeout(U)})}),{hasPWMBadge:o,willPushPWMBadge:x,PWM_BADGE_SPACE_WIDTH:$e}}const je={style:{position:"absolute",inset:"0","pointer-events":"none"}},ze=["value","data-input-otp-placeholder-shown","data-input-otp-mss","data-input-otp-mse","aria-placeholder","pattern"],Le=$({name:"OTPInput",inheritAttrs:!1,__name:"OTPInput",props:ne({maxlength:{},textAlign:{default:"left"},inputmode:{default:"numeric"},containerClass:{},pushPasswordManagerStrategy:{default:"increase-width"},noScriptCssFallback:{default:Fe},defaultValue:{default:""},pasteTransformer:{},accept:{},alt:{},autocomplete:{default:"one-time-code"},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{}},{modelValue:{default(l){return l.defaultValue}},modelModifiers:{}}),emits:ne(["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],["update:modelValue"]),setup(l,{expose:p,emit:u}){const n=l,i=u,[o]=be(l,"modelValue"),h=Me(o),c=I(()=>n.pattern?typeof n.pattern=="string"?new RegExp(n.pattern):n.pattern:null),x=F(!1),b=F(!1),d=F(null),m=F(null),s=F(null),v=F(null),P=De?.CSS?.supports?.("-webkit-touch-callout","none");let _={prev:[s.value?.selectionStart,s.value?.selectionEnd,s.value?.selectionDirection]};function S(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}ae(()=>{const t=s.value,e=v.value;if(!t||!e)return;_.prev=[t.selectionStart,t.selectionEnd,t.selectionDirection??"none"];const a=Re(A,"selectionchange",f,{capture:!0});function f(){if(!t)return;if(A?.activeElement!==t){d.value=null,m.value=null;return}const r=t.selectionStart,w=t.selectionEnd,O=t.selectionDirection,H=t.maxLength,j=t.value,D=_.prev;let C=-1,T=-1,R;if(j.length!==0&&r!==null&&w!==null){const ve=r===w,fe=r===j.length&&j.length<H;if(ve&&!fe){const E=r;if(E===0)C=0,T=1,R="forward";else if(E===H)C=E-1,T=E,R="backward";else if(H>1&&j.length>1){let X=0;if(D[0]!==null&&D[1]!==null){R=E<D[1]?"backward":"forward";const ge=D[0]===D[1]&&D[0]<H;R==="backward"&&!ge&&(X=-1)}C=X+E,T=X+E+1}}C!==-1&&T!==-1&&C!==T&&t.setSelectionRange(C,T,R)}const ee=C!==-1?C:r,te=T!==-1?T:w,me=R??O;d.value=ee,m.value=te,_.prev=[ee,te,me]}if(f(),A?.activeElement===t&&(b.value=!0),!A?.getElementById("input-otp-style")){const r=A?.createElement("style");if(r.id="input-otp-style",A?.head.appendChild(r),r.sheet){const w="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";S(r.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),S(r.sheet,`[data-input-otp]:autofill { ${w} }`),S(r.sheet,`[data-input-otp]:-webkit-autofill { ${w} }`),S(r.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),S(r.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}const g=()=>{e&&e.style.setProperty("--root-height",`${t.clientHeight}px`)};g();const B=new ResizeObserver(g);B.observe(t),oe(()=>{a(),B.disconnect()})}),se([o],()=>{Ve(()=>{if(!s.value)return;s.value?.dispatchEvent(new Event("input"));const t=s.value?.selectionStart,e=s.value?.selectionEnd,a=s.value?.selectionDirection;t!==null&&e!==null&&(d.value=t??null,m.value=e??null,_.prev=[t,e,a])})},{immediate:!0}),ye(()=>{h.value!==void 0&&o.value!==h.value&&h.value.length<n.maxlength&&o.value.length===n.maxlength&&i("complete",o.value)});const k=He({containerRef:v,inputRef:s,pushPasswordManagerStrategy:n.pushPasswordManagerStrategy,isFocused:b});function W(t){if(t.inputType==="insertText"&&t.data!==null){const e=t.currentTarget,a=e.selectionStart??0,f=e.selectionEnd??0,g=e.value,B=(a!==f?g.slice(0,a)+t.data+g.slice(f):g.slice(0,a)+t.data+g.slice(a)).slice(0,n.maxlength);B.length>0&&c.value&&!c.value.test(B)&&t.preventDefault()}}function M(t){const e=t.currentTarget.value.slice(0,n.maxlength);if(e.length>0&&c.value&&!c.value.test(e)){t.preventDefault();return}typeof h.value=="string"&&e.length<h.value.length&&A?.dispatchEvent(new Event("selectionchange")),o.value=e,i("input",e)}function K(){const t=s.value;if(t){const e=Math.min(t.value.length,n.maxlength-1),a=t.value.length;t.setSelectionRange(e,a),d.value=e,m.value=a}b.value=!0}function U(t){const e=s.value;if(!e||!n.pasteTransformer&&(!P||!t.clipboardData||!e))return;const a=t?.clipboardData?.getData("text/plain"),f=n?.pasteTransformer?n.pasteTransformer(a):a;t.preventDefault();const g=s.value?.selectionStart,B=s.value?.selectionEnd,r=(g!==B?o.value.slice(0,g)+f+o.value.slice(B):o.value.slice(0,g)+f+o.value.slice(g)).slice(0,n.maxlength);if(r.length>0&&c.value&&!c.value.test(r))return;o.value=r,i("input",r);const w=Math.min(r.length,n.maxlength-1),O=r.length;e?.setSelectionRange(w,O),d.value=w,m.value=O}const ce=Y(q(n,"containerClass","value","pattern","defaultValue","pushPasswordManagerStrategy","noScriptCssFallback","modelValue")),pe=I(()=>({position:"relative",cursor:n.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"})),de=I(()=>({position:"absolute",inset:0,width:k.willPushPWMBadge.value?`calc(100% + ${k.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:k.willPushPWMBadge.value?`inset(0 ${k.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:n.textAlign,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"})),Z=I(()=>({slots:Array.from({length:Number(n.maxlength)}).map((t,e)=>{const a=b.value&&d.value!==null&&m.value!==null&&(d.value===m.value&&e===d.value||e>=d.value&&e<m.value),f=o.value[e]!==void 0?o.value[e]:null;return{char:f,placeholderChar:f??n?.placeholder?.[e]??null,isActive:a,hasFakeCaret:a&&f===null}}),isFocused:b.value,isHovering:!n.disabled&&x.value}));return Se(ie,Z),p(Object.defineProperty({},"$el",{enumerable:!0,configurable:!0,get:()=>s})),(t,e)=>(V(),G(Pe,null,[l.noScriptCssFallback!==null?(V(),le(y(Ie),{key:0,fallback:l.noScriptCssFallback},null,8,["fallback"])):re("v-if",!0),L("div",{ref_key:"containerRef",ref:v,"data-input-otp-container":"",style:xe(pe.value),class:we(l.containerClass)},[Q(t.$slots,"default",{slots:Z.value.slots,isFocused:b.value,isHovering:!l.disabled&&x.value}),L("div",je,[L("input",N({ref_key:"inputRef",ref:s,value:y(o),"data-input-otp":"","data-input-otp-placeholder-shown":y(o).length===0||void 0,"data-input-otp-mss":d.value,"data-input-otp-mse":m.value,"aria-placeholder":l.placeholder,style:de.value,pattern:c.value?.source},{...t.$attrs,...y(ce)},{onBeforeinput:W,onMouseover:e[0]||(e[0]=a=>{x.value=!0,i("mouseover",a)}),onMouseleave:e[1]||(e[1]=a=>{x.value=!1,i("mouseleave",a)}),onPaste:e[2]||(e[2]=a=>{U(a),i("paste",a)}),onInput:M,onFocus:e[3]||(e[3]=a=>{K(),i("focus",a)}),onBlur:e[4]||(e[4]=a=>{b.value=!1,i("blur",a)})}),null,16,ze)])],6)],64))}});var Ge=Le;function Ne(){return _e(ie)}const Qe=$({__name:"InputOTP",props:{maxlength:{},textAlign:{},inputmode:{},containerClass:{},pushPasswordManagerStrategy:{},noScriptCssFallback:{},defaultValue:{},pasteTransformer:{type:Function},accept:{},alt:{},autocomplete:{},autofocus:{type:Boolean},capture:{type:[Boolean,String]},checked:{type:[Boolean,Array,Set]},crossorigin:{},disabled:{type:Boolean},enterKeyHint:{},form:{},formaction:{},formenctype:{},formmethod:{},formnovalidate:{type:Boolean},formtarget:{},height:{},indeterminate:{type:Boolean},list:{},max:{},min:{},minlength:{},multiple:{type:Boolean},name:{},pattern:{},placeholder:{},readonly:{type:Boolean},required:{type:Boolean},size:{},src:{},step:{},type:{},value:{},width:{},class:{}},emits:["complete","change","select","input","focus","blur","mouseover","mouseleave","paste"],setup(l,{emit:p}){const u=l,n=p,i=q(u,"class"),o=he(i,n);return(h,c)=>(V(),le(y(Ge),N(y(o),{"container-class":y(J)("flex items-center gap-2 has-disabled:opacity-50",u.class),"data-slot":"input-otp",class:"disabled:cursor-not-allowed"}),{default:Be(x=>[Q(h.$slots,"default",Ce(Te(x)))]),_:3},16,["container-class"]))}}),Ze=$({__name:"InputOTPGroup",props:{class:{}},setup(l){const p=l,u=q(p,"class"),n=Y(u);return(i,o)=>(V(),G("div",N({"data-slot":"input-otp-group"},y(n),{class:y(J)("flex items-center",p.class)}),[Q(i.$slots,"default")],16))}}),qe=["data-active"],Ke={key:0,class:"pointer-events-none absolute inset-0 flex items-center justify-center"},et=$({__name:"InputOTPSlot",props:{index:{},class:{}},setup(l){const p=l,u=q(p,"class"),n=Y(u),i=Ne(),o=I(()=>i?.value.slots[p.index]);return(h,c)=>(V(),G("div",N(y(n),{"data-slot":"input-otp-slot","data-active":o.value?.isActive,class:y(J)("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",p.class)}),[Ee(Ae(o.value?.char)+" ",1),o.value?.hasFakeCaret?(V(),G("div",Ke,[...c[0]||(c[0]=[L("div",{class:"animate-caret-blink bg-foreground h-4 w-px duration-1000"},null,-1)])])):re("",!0)],16,qe))}});export{Qe as _,Ze as a,et as b};
